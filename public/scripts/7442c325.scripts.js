"use strict";angular.module("champagneRocksApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"partials/main",controller:"MainCtrl"}).when("/interactive",{templateUrl:"partials/interactive",controller:"InteractiveCtrl"}).when("/cover",{templateUrl:"partials/cover",controller:"CoverCtrl"}).when("/travel",{templateUrl:"partials/travel",controller:"TravelCtrl"}).when("/record",{templateUrl:"partials/record",controller:"RecordCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("champagneRocksApp").controller("MainCtrl",["$scope","$http",function(){console.log("main controller")}]),angular.module("champagneRocksApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Home",link:"/"}],a.isActive=function(a){return a===b.path()}}]),angular.module("champagneRocksApp").controller("TravelCtrl",["$scope","$http",function(){function a(){d=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e4),d.position.z=500,e=new THREE.Scene,g=new THREE.Object3D,g.position.y=-100,e.add(g),f=new THREE.CanvasRenderer,f.setClearColor(15790320),f.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(f.domElement)}function b(){var a=.001*Date.now(),c=new THREE.MeshBasicMaterial({color:new THREE.Color(Math.cos(a),Math.sin(a),-Math.sin(a))}),g=3,m=new THREE.CircleGeometry(i+20*Math.cos(a),g),n=new THREE.Mesh(m,c);n.position.x=k,n.position.y=l,n.position.z=10*h,n.rotation.z=j,j+=.1,h+=1,e.add(n),requestAnimationFrame(b),f.render(e,d),d.position.z+=10}function c(a){k=a.clientX-m,l=-(a.clientY-n)}console.log("travel controller");var d,e,f,g;a(),b(),document.addEventListener("mousemove",c,!1);var h=0,h=0,i=500,j=0,k=0,l=0,m=window.innerWidth/2,n=window.innerHeight/2}]),angular.module("champagneRocksApp").controller("RecordCtrl",["$scope","$http",function(){function a(){f=document.createElement("div"),document.body.appendChild(f),g=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e5),g.position.z=-5e3,j=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e5),h=new THREE.Scene,k=new THREE.Scene,console.log(THREE),console.log("--"),console.log(THREE.HemisphereLight),console.log("--");var a=new THREE.HemisphereLight(16777215,16777215,.6);console.log(a),a.color.setHSL(.6,1,.6),a.groundColor.setHSL(.095,1,.75),a.position.set(0,500,0),h.add(a);for(var c=new THREE.SphereGeometry(800,4,4),d="imgages/skyboxes/",d="",e=".jpg",n=[d+"px"+e,d+"nx"+e,d+"py"+e,d+"ny"+e,d+"pz"+e,d+"nz"+e],o=THREE.ImageUtils.loadTextureCube(n,new THREE.CubeRefractionMapping),p=new THREE.MeshBasicMaterial({color:15658734,envMap:o,refractionRatio:.99}),q=0;10>q;q++){var r=new THREE.Mesh(c,p);r.position.x=8e3*Math.random()-5e3,r.position.y=8e3*Math.random()-5e3,r.position.z=12e3*Math.random()-5e3,r.scale.x=r.scale.y=r.scale.z=1*Math.random()+1,h.add(r),m.push(r)}var s=THREE.ShaderLib.cube;s.uniforms.tCube.value=o;var p=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:s.uniforms,depthWrite:!1,side:THREE.BackSide}),r=new THREE.Mesh(new THREE.BoxGeometry(100,100,100),p);k.add(r),i=new THREE.WebGLRenderer,i.setSize(window.innerWidth,window.innerHeight),i.autoClear=!1,f.appendChild(i.domElement),window.addEventListener("resize",b,!1);var t=new THREE.JSONLoader;t.load("obj/phone.js",function(a){var b=new THREE.MeshPhongMaterial({ambient:197379,color:14540253,specular:39168,shininess:30,shading:THREE.FlatShading}),c=new THREE.Mesh(a,b);l=c,console.log(c),l.scale.x=l.scale.y=l.scale.z=10*Math.random()+1,h.add(l)})}function b(){p=window.innerWidth/2,q=window.innerHeight/2,g.aspect=window.innerWidth/window.innerHeight,g.updateProjectionMatrix(),j.aspect=window.innerWidth/window.innerHeight,j.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function c(a){n=10*(a.clientX-p),o=10*(a.clientY-q)}function d(){requestAnimationFrame(d),e()}function e(){var a=.001*Date.now();l.position.y=1e3*Math.cos(a),l.rotation.y+=.01,l.rotation.x+=.01,g.position.x+=.05*(n-g.position.x),g.position.y+=.05*(-o-g.position.y),g.lookAt(h.position),j.rotation.copy(g.rotation),i.render(k,j),i.render(h,g)}console.log("record controller");var f,g,h,i,j,k,l,m=[],n=0,o=0,p=window.innerWidth/2,q=window.innerHeight/2;document.addEventListener("mousemove",c,!1),a(),d()}]),angular.module("champagneRocksApp").controller("CoverCtrl",["$scope","$http",function(){console.log("cover controller")}]);